"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0}),require("vue-tsx-support/enable-check");var t=require("vue-tsx-support"),n=e(require("vue")),r=require("slate"),o=e(require("direction")),a=require("is-hotkey"),i=new WeakMap,s=new WeakMap,d=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,f=new WeakMap,h=new WeakMap,p=new WeakMap,v=new WeakMap,g=Symbol("placeholder"),m=new Map,w=new Map,y=new Map,b=null,x=!1,E=0;function S(){if(!b)throw new Error("invalid hooks call: hooks can only be called in a function passed to withHooks.")}function k(e){return e._isVue?e.$el:e}function C(e,t){S();var n=++E;if(x){var r=function e(){var t=e.current;t&&(t(),e.current=null)},o=function e(){var t=e.current;t&&(r.current=t.call(this),e.current=null)};o.current=e,b._effectStore[n]={effect:o,cleanup:r,deps:t},b.$on("hook:mounted",o),b.$on("hook:destroyed",r),(!t||t.length>0)&&b.$on("hook:updated",o)}else{var a=b._effectStore[n],i=a.effect,s=a.cleanup,d=a.deps,l=void 0===d?[]:d;a.deps=t,t&&!t.some((function(e,t){return e!==l[t]}))||(s(),i.current=e)}}function D(e){S();var t=++E,n=b._refsStore;return b.$on("hook:mounted",(function(){this.$refs[t]&&(n[t].current=k(this.$refs[t]))})),b.$on("hook:updated",(function(){this.$refs[t]&&(n[t].current=k(this.$refs[t]))})),x?n[t]={current:e,id:t}:n[t]}function N(e){e.mixin({beforeCreate:function(){var e=this.$options,t=e.hooks,n=e.data;t&&(this._effectStore={},this._refsStore={},this._computedStore={},this.$options.data=function(){var e=n?n.call(this):{};return e._state={},e})},beforeMount:function(){var e=this.$options,t=e.hooks,n=e.render;t&&n&&(this.$options.render=function(e){E=0,b=this,x=!this._vnode;var r=t.call(this,this.$props);Object.assign(this._self,r);var o=n.call(this,e);return b=null,o})}})}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=P(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}var L,A=0,j=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id="".concat(A++)},W=function(e){return I(e)&&1===e.nodeType},I=function(e){return e instanceof Node},K=function(e){return I(e)&&3===e.nodeType},q=function(e,t,n){for(var r,o=e.childNodes,a=o[t],i=t,s=!1,d=!1;(I(r=a)&&8===r.nodeType||W(a)&&0===a.childNodes.length||W(a)&&"false"===a.getAttribute("contenteditable"))&&(!s||!d);)i>=o.length?(s=!0,i=t-1,n="backward"):i<0?(d=!0,i=t+1,n="forward"):(a=o[i],i+="forward"===n?1:-1);return a},z=function(e){return r.Editor.isEditor(e)?e._state:e.children},U=function(e){return JSON.parse(JSON.stringify(e))},J=function(e,t){if(r.Text.isText(e))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(e)));var n=z(e)[t];if(null==n)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(JSON.stringify(e)));return n},V=function(e,t){for(var n=e,o=0;o<t.length;o++){var a=t[o],i=z(n);if(r.Text.isText(n)||!i[a])return!1;n=i[a]}return!0},H=function(e,t){for(var n=e,o=0;o<t.length;o++){var a=t[o],i=z(n);if(r.Text.isText(n)||!i[a])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(JSON.stringify(e)));n=i[a]}return n},X=function(e,t){for(var n=t.slice(),o=r.Node.get(e,n),a=z(o);o&&!r.Text.isText(o)&&0!==a.length;)o=a[0],n.push(0);return[o,n]},Y=function(e,t){for(var n=t.slice(),o=r.Node.get(e,n),a=z(o);o&&!r.Text.isText(o)&&0!==a.length;){var i=a.length-1;o=a[i],n.push(i)}return[o,n]},G=function*(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.pass,o=t.reverse,a=void 0!==o&&o,i=t.from,s=void 0===i?[]:i,d=t.to,l=new Set,c=[],u=e;!d||!(a?r.Path.isBefore(c,d):r.Path.isAfter(c,d));)if(l.has(u)||(yield[u,c]),l.has(u)||r.Text.isText(u)||0===z(u).length||null!=n&&!1!==n([u,c])){if(0===c.length)break;if(!a){var f=r.Path.next(c);if(r.Node.has(e,f)){c=f,u=r.Node.get(e,c);continue}}if(a&&0!==c[c.length-1]){var h=r.Path.previous(c);c=h,u=r.Node.get(e,c)}else c=r.Path.parent(c),u=r.Node.get(e,c),l.add(u)}else{l.add(u);var p=a?z(u).length-1:0;r.Path.isAncestor(c,s)&&(p=s[c.length]),c=c.concat(p),u=r.Node.get(e,c)}},Q=(L=r.Transforms.select,r.Transforms.select=function(e,t){return t.__ob__&&(t=U(t)),L(e,t)},r.Transforms),Z=function(){var e=r.Node.get,t=r.Node.nodes,n=r.Node.has,o=r.Node.first,a=r.Node.child,i=r.Node.last;return r.Node.child=J,r.Node.has=V,r.Node.get=H,r.Node.first=X,r.Node.last=Y,r.Node.nodes=G,function(){r.Node.get=e,r.Node.nodes=t,r.Node.has=n,r.Node.first=o,r.Node.child=a,r.Node.last=i}},ee=function(e){return function(){var t=Z(),n=e.apply(void 0,arguments);return t(),n}},te=function(e){for(var t=Z(),n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=e.apply(void 0,r);return t(),a},ne={findKey:function(e,t){var n=f.get(t);return n||(n=new j,f.set(t,n)),n},findPath:function(e,t){for(var n=[],o=t;;){var a=s.get(o);if(null==a){if(r.Editor.isEditor(o))return n;break}var d=i.get(o);if(null==d)break;n.unshift(d),o=a}throw new Error("Unable to find the path for Slate node: ".concat(JSON.stringify(t)))},isFocused:function(e){return!!p.get(e)},isReadOnly:function(e){return!!h.get(e)},blur:function(e){var t=ne.toDOMNode(e,e);p.set(e,!1),window.document.activeElement===t&&t.blur()},focus:function(e){var t=ne.toDOMNode(e,e);p.set(e,!0),window.document.activeElement!==t&&t.focus({preventScroll:!0})},deselect:function(e){var t=e.selection,n=window.getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),t&&r.Transforms.deselect(e)},hasDOMNode:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.editable,a=void 0!==o&&o,i=ne.toDOMNode(e,e);try{n=W(t)?t:t.parentElement}catch(e){if(!e.message.includes('Permission denied to access property "nodeType"'))throw e}return!!n&&(n.closest("[data-slate-editor]")===i&&(!a||n.isContentEditable||!!n.getAttribute("data-slate-zero-width")))},insertData:function(e,t){e.insertData(t)},setFragmentData:function(e,t){e.setFragmentData(t)},toDOMNode:function(e,t){var n=r.Editor.isEditor(t)?d.get(e):c.get(ne.findKey(e,t));if(!n)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(JSON.stringify(t)));return n},toDOMPoint:function(e,t){var n,o=T(r.Editor.node(e,t.path),1)[0],a=ne.toDOMNode(e,o);r.Editor.void(e,{at:t})&&(t={path:t.path,offset:0});for(var i=0,s=0,d=Array.from(a.querySelectorAll("[data-slate-string], [data-slate-zero-width]"));s<d.length;s++){var l=d[s],c=l.childNodes[0];if(null!=c&&null!=c.textContent){var u=c.textContent.length,f=l.getAttribute("data-slate-length"),h=i+(null==f?u:parseInt(f,10));if(t.offset<=h){n=[c,Math.min(u,Math.max(0,t.offset-i))];break}i=h}}if(!n)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(JSON.stringify(t)));return n},toDOMRange:function(e,t){var n=t.anchor,o=t.focus,a=r.Range.isBackward(t),i=ne.toDOMPoint(e,n),s=r.Range.isCollapsed(t)?i:ne.toDOMPoint(e,o),d=window.document.createRange(),l=T(a?s:i,2),c=l[0],u=l[1],f=T(a?i:s,2),h=f[0],p=f[1],v=!!(W(c)?c:c.parentElement).getAttribute("data-slate-zero-width"),g=!!(W(h)?h:h.parentElement).getAttribute("data-slate-zero-width");return d.setStart(c,v?1:u),d.setEnd(h,g?1:p),d},toSlateNode:function(e,t){var n=W(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?l.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},findEventRange:function(e,t){"nativeEvent"in t&&(t=t.nativeEvent);var n=t,o=n.clientX,a=n.clientY,i=n.target;if(null==o||null==a)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var s,d=ne.toSlateNode(e,t.target),l=ne.findPath(e,d);if(r.Editor.isVoid(e,d)){var c=i.getBoundingClientRect(),u=e.isInline(d)?o-c.left<c.left+c.width-o:a-c.top<c.top+c.height-a,f=r.Editor.point(e,l,{edge:u?"start":"end"}),h=u?r.Editor.before(e,f):r.Editor.after(e,f);if(h)return r.Editor.range(e,h)}var p=window.document;if(p.caretRangeFromPoint)s=p.caretRangeFromPoint(o,a);else{var v=p.caretPositionFromPoint(o,a);v&&((s=p.createRange()).setStart(v.offsetNode,v.offset),s.setEnd(v.offsetNode,v.offset))}if(!s)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));return ne.toSlateRange(e,s)},toSlatePoint:function(e,t){var n=function(e){var t=T(e,2),n=t[0],r=t[1];if(W(n)&&n.childNodes.length){var o=r===n.childNodes.length,a=o?"backward":"forward";for(n=q(n,o?r-1:r,a);W(n)&&n.childNodes.length;){var i=o?n.childNodes.length-1:0;n=q(n,i,a)}r=o&&null!=n.textContent?n.textContent.length:0}return[n,r]}(t),r=T(n,2),o=r[0],a=r[1],i=o.parentNode,s=null,d=0;if(i){var l=i.closest('[data-slate-void="true"]'),c=i.closest("[data-slate-leaf]"),u=null;if(c){s=c.closest('[data-slate-node="text"]');var f=window.document.createRange();f.setStart(s,0),f.setEnd(o,a);var h=f.cloneContents();[].concat(M(h.querySelectorAll("[data-slate-zero-width]")),M(h.querySelectorAll("[contenteditable=false]"))).forEach((function(e){e.parentNode.removeChild(e)})),d=h.textContent.length,u=s}else l&&(s=(c=l.querySelector("[data-slate-leaf]")).closest('[data-slate-node="text"]'),d=(u=c).textContent.length);u&&d===u.textContent.length&&i.hasAttribute("data-slate-zero-width")&&d--}if(!s)throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t));var p=ne.toSlateNode(e,s);return{path:ne.findPath(e,p),offset:d}},toSlateRange:function(e,t){var n,r,o,a,i;if((t instanceof Selection?t.anchorNode:t.startContainer)&&(t instanceof Selection?(n=t.anchorNode,r=t.anchorOffset,o=t.focusNode,a=t.focusOffset,i=t.isCollapsed):(n=t.startContainer,r=t.startOffset,o=t.endContainer,a=t.endOffset,i=t.collapsed)),null==n||null==o||null==r||null==a)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));var s=ne.toSlatePoint(e,[n,r]);return{anchor:s,focus:i?s:ne.toSlatePoint(e,[o,a])}}};ne.toDOMRange=ee(ne.toDOMRange);var re=function(e){var t=e,o=t.apply,a=t.onChange;return t.apply=function(a){var i=[];switch(t._operation=a,a.type){case"insert_text":case"remove_text":case"set_node":var s,d=R(r.Editor.levels(t,{at:a.path}));try{for(d.s();!(s=d.n()).done;){var l=T(s.value,2),c=l[0],u=l[1],h=ne.findKey(t,c);i.push([u,h])}}catch(e){d.e(e)}finally{d.f()}break;case"insert_node":case"remove_node":case"merge_node":case"split_node":var p,v=R(r.Editor.levels(t,{at:r.Path.parent(a.path)}));try{for(v.s();!(p=v.n()).done;){var g=T(p.value,2),m=g[0],w=g[1],y=ne.findKey(t,m);i.push([w,y])}}catch(e){v.e(e)}finally{v.f()}}o(a);for(var b=0,x=i;b<x.length;b++){var E=T(x[b],2),S=E[0],k=E[1],C=T(r.Editor.node(t,S),1)[0];f.set(C,k)}te((function(){!function(e,t){switch(t.type){case"insert_node":var o=t.path,a=t.node,i=r.Node.parent(e,o),s=o[o.length-1];z(i).splice(s,0,U(a));break;case"insert_text":var d=t.path,l=t.offset,c=t.text,u=r.Node.leaf(e,d),h=u.text.slice(0,l),p=u.text.slice(l);u.text=h+c+p;break;case"merge_node":var v=t.path,g=r.Node.get(e,v),m=r.Path.previous(v),w=r.Node.get(e,m),y=r.Node.parent(e,v),b=v[v.length-1];if(r.Text.isText(g)&&r.Text.isText(w))w.text+=g.text;else{if(r.Text.isText(g)||r.Text.isText(w))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(v,"] to nodes of different interaces: ").concat(g," ").concat(w));var x;(x=z(w)).push.apply(x,M(z(g)))}z(y).splice(b,1);break;case"move_node":var E=t.path,S=t.newPath;if(r.Path.isAncestor(E,S))throw new Error("Cannot move a path [".concat(E,"] to new path [").concat(S,"] because the destination is inside itself."));var k=r.Node.get(e,E),C=r.Node.parent(e,E),D=E[E.length-1];z(C).splice(D,1);var N=r.Path.transform(E,t),O=r.Node.get(e,r.Path.parent(N)),F=N[N.length-1];z(O).splice(F,0,k);break;case"remove_node":var _=t.path;f.delete(r.Node.get(e,_));var T=_[_.length-1],P=r.Node.parent(e,_);z(P).splice(T,1);break;case"remove_text":var $=t.path,R=t.offset,L=t.text,A=r.Node.leaf(e,$),j=A.text.slice(0,R),W=A.text.slice(R+L.length);A.text=j+W;break;case"set_node":var I=t.path,K=t.newProperties;if(0===I.length)throw new Error("Cannot set properties on the root node!");var q=r.Node.get(e,I);for(var J in K){if("children"===J||"text"===J)throw new Error('Cannot set the "'.concat(J,'" property of nodes!'));var V=K[J];null==V?n.delete(q,J):n.set(q,J,V)}break;case"set_selection":break;case"split_node":var H=t.path,X=t.position,Y=t.properties;if(0===H.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(H,"] because the root node cannot be split."));var G,Q=r.Node.get(e,H),Z=r.Node.parent(e,H),ee=H[H.length-1];if(r.Text.isText(Q)){var te=Q.text.slice(0,X),ne=Q.text.slice(X);Q.text=te,G=B(B(B({},Q),Y),{},{text:ne})}else{var re=Q.children.slice(0,X),oe=Q.children.slice(X);Q.children=re,G=B(B(B({},Q),Y),{},{children:oe})}z(Z).splice(ee+1,0,G)}}(e,a)}))},t.setFragmentData=function(e){var n=t.selection;if(n){var o=T(r.Range.edges(n),2),a=o[0],i=o[1],s=r.Editor.void(t,{at:a.path}),d=r.Editor.void(t,{at:i.path});if(!r.Range.isCollapsed(n)||s){var l=ne.toDOMRange(t,n),c=l.cloneContents(),u=c.childNodes[0];if(c.childNodes.forEach((function(e){e.textContent&&""!==e.textContent.trim()&&(u=e)})),d){var f=T(d,1)[0],h=l.cloneRange(),p=ne.toDOMNode(t,f);h.setEndAfter(p),c=h.cloneContents()}if(s&&(u=c.querySelector("[data-slate-spacer]")),Array.from(c.querySelectorAll("[data-slate-zero-width]")).forEach((function(e){var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""})),K(u)){var v=document.createElement("span");v.style.whiteSpace="pre",v.appendChild(u),c.appendChild(v),u=v}var g=t.getFragment(),m=JSON.stringify(g),w=window.btoa(encodeURIComponent(m));u.setAttribute("data-slate-fragment",w),e.setData("application/x-slate-fragment",w);var y=document.createElement("div");y.appendChild(c),y.setAttribute("hidden","true"),document.body.appendChild(y),e.setData("text/html",y.innerHTML),e.setData("text/plain",function e(t){var n="";if(K(t)&&t.nodeValue)return t.nodeValue;if(W(t)){for(var r=0,o=Array.from(t.childNodes);r<o.length;r++)n+=e(o[r]);var a=getComputedStyle(t).getPropertyValue("display");"block"!==a&&"list"!==a&&"BR"!==t.tagName||(n+="\n")}return n}(y)),document.body.removeChild(y)}}},t.insertData=function(e){var n=e.getData("application/x-slate-fragment");if(n){var o=decodeURIComponent(window.atob(n)),a=JSON.parse(o);t.insertFragment(a)}else{var i=e.getData("text/plain");if(i){var s,d=!1,l=R(i.split(/\r\n|\r|\n/));try{for(l.s();!(s=l.n()).done;){var c=s.value;d&&r.Transforms.splitNodes(t,{always:!0}),r.Transforms.insertText(t,c),d=!0}}catch(e){l.e(e)}finally{l.f()}}}},t.onChange=function(){var e=v.get(t);e&&e(),a()},t},oe=function(e){return w.get(e)},ae=function(e,t){var n=e._watcher.update;e._watcher.update=function(){var r=e.$editor._operation;if(r){if("remove_text"===r.type||"insert_text"===r.type||"set_selection"===r.type)return;if("remove_node"===r.type&&"element"===t)return}n.call(e._watcher)}},ie={mounted:function(){this.$editor._state.__ob__.dep.addSub(this._watcher)}},se={created:function(){var e=oe(this.$editor),t=this.element||this.node;e.selected.elements.push(t)},computed:{selected:function(){if(this.element){var e=oe(this.$editor),t=f.get(this.element);return!!t&&e.selected[t.id]}return!1}}},de={computed:{readOnly:function(){return oe(this.$editor).readOnly}}},le={computed:{focused:function(){return oe(this.$editor).focused}}},ce=function(){var e=re(r.createEditor()),t=new n({data:{focused:!1,selected:{elements:[]},readOnly:!1},methods:{updateSelected:function(){var e=this,t=y.get(this),n=t.selection;n&&this.selected.elements.forEach((function(o){var a=f.get(o);if(a){var i=a.id,s=ne.findPath(t,o),d=r.Editor.range(t,s),l=r.Range.intersection(d,n);e.$set(e.selected,i,!!l)}}))}}});return w.set(e,t),y.set(t,e),e},ue={install:function(e,t){e.mixin({beforeCreate:function(){this.$editor||(this.$options.components.Slate?(this.$editor=ce(),(null==t?void 0:t.editorCreated)&&t.editorCreated.call(this,this.$editor)):this.$editor=this.$parent&&this.$parent.$editor)}}),e.use(N)}},fe=function(e,t,n){Object.defineProperty(e,t,{configurable:!0,get:function(){return n},set:function(e){console.warn("tried to set frozen property ".concat(t," with ").concat(e))}})},he=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n})},pe=t.component({abstract:!0,name:"Fragment",props:{name:{type:String,default:function(){return Math.floor(Date.now()*Math.random()).toString(16)}}},mounted:function(){var e=this.$el,t=e.parentNode,n=document.createComment("fragment#".concat(this.name,"#head")),r=document.createComment("fragment#".concat(this.name,"#tail"));t.insertBefore(n,e),t.insertBefore(r,e),e.appendChild=function(n){t.insertBefore(n,r),fe(n,"parentNode",e)},e.insertBefore=function(n,r){t.insertBefore(n,r),fe(n,"parentNode",e)},e.removeChild=function(e){t.removeChild(e),he(e,"parentNode")},Array.from(e.childNodes).forEach((function(t){return e.appendChild(t)})),t.removeChild(e),fe(e,"parentNode",t),fe(e,"nextSibling",r.nextSibling),fe(r,"parentNode",e);var o=t.insertBefore;t.insertBefore=function(r,a){o.call(t,r,a!==e?a:n)};var a=t.removeChild;t.removeChild=function(i){if(i===e){for(;n.nextSibling!==r;)e.removeChild(n.nextSibling);t.removeChild(n),t.removeChild(r),he(e,"parentNode"),t.insertBefore=o,t.removeChild=a}else a.call(t,i)}},render:function(e){var t=this.$slots.default;return e("div",{key:this.name},t)}}),ve=t.component({name:"slate",props:{value:String},components:{fragment:pe},data:function(){return{name:null}},created:function(){var e=this;this.renderSlate(),this.$editor.clear=function(){e.renderSlate(JSON.stringify([{children:[{text:""}]}]))}},watch:{value:function(e,t){e!==t&&this.renderSlate(e)}},methods:{genUid:function(){return Math.floor(Date.now()*Math.random()).toString(16)},renderSlate:function(e){var t=e||this.value,r=this.$editor;r.children=JSON.parse(t);var o=JSON.parse(t);r._state=n.observable(o),this.clearEditor(),this.name=this.genUid()},clearEditor:function(){this.$editor.selection=null}},render:function(){var e=this,t=arguments[0];return v.set(this.$editor,(function(){e.$editor._state.__ob__.dep.notify();var t=oe(e.$editor);t.focused=ne.isFocused(e.$editor);var n=e.$editor._operation;n&&"set_selection"===n.type&&t.updateSelected(),e.$emit("onChange")})),t(pe,{attrs:{name:this.name}},[this.$scopedSlots.default()])}}),ge=t.component({props:{text:String,isTrailing:Boolean},render:function(){var e=arguments[0],t=this.text,n=this.isTrailing,r=void 0!==n&&n;return e("span",{attrs:{"data-slate-string":!0}},[t,r?"\n":null])}}),me={functional:!0,render:function(e,t){var n=t.props,r=n.length,o=void 0===r?0:r,a=n.isLineBreak,i=void 0!==a&&a;return e("span",{attrs:{"data-slate-zero-width":i?"n":"z","data-slate-length":o}},["\ufeff",i?e("br"):null])}},we=t.component({props:{leaf:Object,editor:Object},inject:["isLast","parent","text"],components:{TextString:ge},render:function(){var e=arguments[0],t=this.leaf,n=this.editor,o=this.isLast,a=this.parent,i=this.text,s=ne.findPath(n,i),d=r.Path.parent(s);return n.isVoid(a)?e(me,{attrs:{length:r.Node.string(a).length}}):""!==t.text||a.children[a.children.length-1]!==i||n.isInline(a)||""!==r.Editor.string(n,d)?""===t.text?e(me):o&&"\n"===t.text.slice(-1)?e(ge,{attrs:{isTrailing:!0,text:t.text}}):e(ge,{attrs:{text:t.text}}):e(me,{attrs:{isLineBreak:!0}})}}),ye=t.component({props:{text:Object,leaf:Object},inject:["renderLeaf"],components:{string:we,fragment:pe},render:function(e){var t=this.renderLeaf,n=void 0===t?be:t,r=this.text,o=this.leaf,a=e(we,{attrs:{text:r,editor:this.$editor,leaf:o}});o[g]&&(a=e(pe,[e("span",{attrs:{contenteditable:!1},style:{pointerEvents:"none",display:"inline-block",verticalAlign:"text-top",width:"0",maxWidth:"100%",whiteSpace:"nowrap",opacity:"0.333"}},[o.placeholder]),a]));return e(n({children:a,attributes:{"data-slate-leaf":!0},leaf:o,text:r}))}}),be=function(e){return t.component({render:function(){var t=arguments[0],n=e.attributes,r=e.children;return t("span",{attrs:B({},n)},[r])}})},xe=t.component({props:{text:Object,isLast:Boolean,parent:Object,decorations:Array},components:{leaf:ye},inject:["decorate","placeholder"],provide:function(){return{text:this.text,isLast:this.isLast,parent:this.parent}},hooks:function(){var e=this.ref=D(null),t=this.text,n=this.$editor,r=ne.findKey(n,t);C((function(){e.current?(c.set(r,e.current),u.set(t,e.current),l.set(e.current,t)):(c.delete(r),u.delete(t))}))},render:function(e,t){var n=this.text,o=this.placeholder,a=this.decorations;if(!a){var i=this.$editor,s=ne.findPath(i,n);if(a=this.decorate([n,s]),o&&1===i.children.length&&1===Array.from(r.Node.texts(i)).length&&""===r.Node.string(i)){var d,l=r.Editor.start(i,[]);a.push((F(d={},g,!0),F(d,"placeholder",o),F(d,"anchor",l),F(d,"focus",l),d))}}for(var c=r.Text.decorations(n,a),u=[],f=0;f<c.length;f++){var h=c[f];u.push(e(ye,{attrs:{leaf:h}}))}return e("span",{attrs:{"data-slate-node":"text"},ref:this.ref.id},[u])}}),Ee=t.component({props:{element:Object},inject:["renderElement"],components:{Children:ke},mixins:[de],mounted:function(){ae(this,"element")},hooks:function(){var e=this.ref=D(null),t=this.element,n=ne.findKey(this.$editor,t);C((function(){e.current?(c.set(n,e.current),u.set(t,e.current),l.set(e.current,t)):(c.delete(n),u.delete(t))}))},render:function(e){var t=this.element,n=this.renderElement,a=void 0===n?Se:n,d=this.ref,l=this.$editor,c=l.isInline(t),u=e(ke,{attrs:{node:t}}),f={"data-slate-node":"element"};if(c&&(f["data-slate-inline"]=!0),!c&&r.Editor.hasInlines(l,t)){var h=r.Node.string(t),p=o(h);"rtl"===p&&(f.dir=p)}if(r.Editor.isVoid(l,t)){f["data-slate-void"]=!0,!this.readOnly&&c&&(f.contentEditable=!1);var v=c?"span":"div",g=T(r.Node.texts(t),1),m=T(g[0],1)[0];u=this.readOnly?null:e(v,{attrs:{"data-slate-spacer":!0},style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},[e(xe,{attrs:{decorations:[],isLast:!1,parent:t,text:m}})]),i.set(m,0),s.set(m,t)}return e(a({element:t,attributes:f,children:u}),{ref:d.id})}}),Se=function(e){return t.component({render:function(){var t=arguments[0],n=e.attributes,r=e.children,o=e.element,a=this.$editor,i=a.isInline(o)?"span":"div";return t(i,{attrs:B({},n),style:{position:"relative"}},[r])}})},ke=t.component({props:{node:Object},components:{TextComponent:xe,ElementComponent:Ee,fragment:pe},inject:["decorate"],mixins:[ie],mounted:function(){ae(this,"children")},render:function(){for(var e=arguments[0],t=this.$editor,n=this.node,o=ne.findPath(t,n),a=r.Element.isElement(n)&&!t.isInline(n)&&r.Editor.hasInlines(t,n),d=[],l=r.Editor.isEditor(n)?n._state:n.children,c=null,u=0;u<l.length;u++){var f=l[u],h=ne.findKey(t,f),p=o.concat(u);r.Editor.range(t,p);if(i.set(f,u),s.set(f,n),t._operation&&m.get(h)){var v=t._operation.path;if("split_node"===t._operation.type&&r.Path.isSibling(p,v)&&!r.Path.equals(p,v)&&!r.Path.equals(p,r.Path.next(v))){c=m.get(h),d.push(c);continue}if("merge_node"===t._operation.type){var g=r.Path.parent(v);if(r.Path.isSibling(p,g)&&!r.Path.isParent(p,v)){c=m.get(h),d.push(c);continue}}if("remove_node"===t._operation.type&&r.Path.isSibling(p,v)&&!r.Path.equals(p,v)){c=m.get(h),d.push(c);continue}}r.Element.isElement(f)?(c=e(Ee,{attrs:{element:f},key:h.id}),d.push(c)):(c=e(xe,{attrs:{isLast:a&&u===l.length-1,parent:n,text:f},key:h.id}),d.push(c)),m.set(h,c)}return e(pe,[d])}}),Ce=("undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,"undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent)),De="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Ne="undefined"!=typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),Oe="undefined"!=typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])/i.test(navigator.userAgent),Fe={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},_e={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Be={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Te=function(e){var t=Fe[e],n=_e[e],r=Be[e],o=t&&a.isKeyHotkey(t),i=n&&a.isKeyHotkey(n),s=r&&a.isKeyHotkey(r);return function(e){return!(!o||!o(e))||(!!(Ce&&i&&i(e))||!(Ce||!s||!s(e)))}},Me={isBold:Te("bold"),isCompose:Te("compose"),isMoveBackward:Te("moveBackward"),isMoveForward:Te("moveForward"),isDeleteBackward:Te("deleteBackward"),isDeleteForward:Te("deleteForward"),isDeleteLineBackward:Te("deleteLineBackward"),isDeleteLineForward:Te("deleteLineForward"),isDeleteWordBackward:Te("deleteWordBackward"),isDeleteWordForward:Te("deleteWordForward"),isExtendBackward:Te("extendBackward"),isExtendForward:Te("extendForward"),isExtendLineBackward:Te("extendLineBackward"),isExtendLineForward:Te("extendLineForward"),isItalic:Te("italic"),isMoveLineBackward:Te("moveLineBackward"),isMoveLineForward:Te("moveLineForward"),isMoveWordBackward:Te("moveWordBackward"),isMoveWordForward:Te("moveWordForward"),isRedo:Te("redo"),isSplitBlock:Te("splitBlock"),isTransposeCharacter:Te("transposeCharacter"),isUndo:Te("undo")},Pe="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,$e=String.fromCharCode(32),Re=!1;var Le=function(e,t){var n=!1;switch(e){case"compositionend":return function(e){var t=e.detail;return"object"===O(t)&&"data"in t?t.data:null}(t);case"keypress":return 32!==t.which?null:(n=!0,$e);case"textInput":var r=t.data;return r===$e&&n?null:r;default:return null}};var Ae=function(e,t){var n;n=Pe&&"TextEvent"in window?Le(e,t):function(e,t){if(Re)return"compositionend"===e?t.data:null;switch(e){case"paste":return null;case"keypress":if(!function(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}(t)){if(t.char&&t.char.length>1)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return t.data;default:return null}}(e,t);var r=new CustomEvent("beforeinput",{detail:n});t.target&&t.target.dispatchEvent(r)},je=!(De||Oe),We=function(e,t){var n=qe(e,t)&&ne.toSlateNode(e,t);return r.Editor.isVoid(e,n)},Ie=function(e,t){return!!t&&(t(e),e.defaultPrevented||e.cancelBubble)},Ke=function(e,t){return I(t)&&ne.hasDOMNode(e,t,{editable:!0})},qe=function(e,t){return I(t)&&ne.hasDOMNode(e,t)},ze=t.component({props:{autoFocus:Boolean,renderLeaf:Function,renderElement:Function,readOnly:Boolean,decorate:{type:Function,default:function(){return[]}},placeholder:String,spellCheck:Boolean,autoCorrect:String,autoCapitalize:String,onBeforeInput:Function,onKeyDown:Function,onClick:Function,onCompositionEnd:Function,onCompositionStart:Function,onCut:Function,onCopy:Function,onDragOver:Function,onDragStart:Function,onDragStop:Function,onPaste:Function,onFocus:Function,onBlur:Function},components:{Children:ke},mixins:[ie],provide:function(){return{renderLeaf:this.renderLeaf,renderElement:this.renderElement,decorate:this.decorate,readOnly:this.readOnly,placeholder:this.placeholder}},data:function(){return{latestElement:null,isComposing:!1,isUpdatingSelection:!1}},methods:{_onClick:function(e){var t=this.$editor;if(!this.readOnly&&qe(t,e.target)&&I(e.target)&&!Ie(e,this.onClick)){var n=ne.toSlateNode(t,e.target),o=ne.findPath(t,n),a=r.Editor.start(t,o);if(r.Editor.void(t,{at:a})){var i=r.Editor.range(t,a);r.Transforms.select(t,i)}}},onSelectionchange:function(){var e=this.readOnly,t=this.$editor;if(!e&&!this.isComposing&&!this.isUpdatingSelection){var n=window.document.activeElement,o=ne.toDOMNode(t,t),a=window.getSelection();if(n===o?(this.latestElement=n,p.set(t,!0)):p.delete(t),!a)return r.Transforms.deselect(t);var i=a.anchorNode,s=a.focusNode,d=Ke(t,i)||We(t,i),l=Ke(t,s)||We(t,s);if(d&&l){var c=ne.toSlateRange(t,a);r.Transforms.select(t,c)}else r.Transforms.deselect(t)}},_onBeforeInput:function(e){var t=this.$editor;if(De){e.preventDefault(),e.stopPropagation();var n=e.detail;r.Editor.insertText(t,n)}else if(!this.readOnly&&Ke(t,e.target)&&!Ie(e,this.onBeforeInput)){var o=t.selection,a=e.inputType,i=e.dataTransfer||e.data||void 0;if("insertCompositionText"===a||"deleteCompositionText"===a)return;if(e.preventDefault(),!a.startsWith("delete")||a.startsWith("deleteBy")){var s=T(e.getTargetRanges(),1)[0];if(s){var d=ne.toSlateRange(t,s);o&&r.Range.equals(o,d)||r.Transforms.select(t,d)}}if(o&&r.Range.isExpanded(o)&&a.startsWith("delete"))return void r.Editor.deleteFragment(t);switch(a){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":r.Editor.deleteFragment(t);break;case"deleteContent":case"deleteContentForward":r.Editor.deleteForward(t);break;case"deleteContentBackward":r.Editor.deleteBackward(t);break;case"deleteEntireSoftLine":r.Editor.deleteBackward(t,{unit:"line"}),r.Editor.deleteForward(t,{unit:"line"});break;case"deleteHardLineBackward":r.Editor.deleteBackward(t,{unit:"block"});break;case"deleteSoftLineBackward":r.Editor.deleteBackward(t,{unit:"line"});break;case"deleteHardLineForward":r.Editor.deleteForward(t,{unit:"block"});break;case"deleteSoftLineForward":r.Editor.deleteForward(t,{unit:"line"});break;case"deleteWordBackward":r.Editor.deleteBackward(t,{unit:"word"});break;case"deleteWordForward":r.Editor.deleteForward(t,{unit:"word"});break;case"insertLineBreak":case"insertParagraph":r.Editor.insertBreak(t);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":i instanceof DataTransfer?ne.insertData(t,i):"string"==typeof i&&r.Editor.insertText(t,i)}}},_onCompositionEnd:function(e){var t=this.$editor;Ke(t,e.target)&&!Ie(e,this.onCompositionEnd)&&(this.isComposing=!1,Ne||De||!e.data||r.Editor.insertText(t,e.data))},_onCompositionStart:function(e){var t=this.$editor;Ke(t,e.target)&&!Ie(e,this.onCompositionStart)&&(this.isComposing=!0)},_onKeyDown:function(e){var t=this.$editor;if(!this.readOnly&&Ke(t,e.target)&&!Ie(e,this.onKeyDown)){var n=e,o=t.selection;if(Me.isRedo(n))return e.preventDefault(),void(t.redo&&t.redo());if(Me.isUndo(n))return e.preventDefault(),void(t.undo&&t.undo());if(Me.isMoveLineBackward(n))return e.preventDefault(),void r.Transforms.move(t,{unit:"line",reverse:!0});if(Me.isMoveLineForward(n))return e.preventDefault(),void r.Transforms.move(t,{unit:"line"});if(Me.isExtendLineBackward(n))return e.preventDefault(),void r.Transforms.move(t,{unit:"line",edge:"focus",reverse:!0});if(Me.isExtendLineForward(n))return e.preventDefault(),void r.Transforms.move(t,{unit:"line",edge:"focus"});if(Me.isMoveBackward(n))return e.preventDefault(),void(o&&r.Range.isCollapsed(o)?r.Transforms.move(t,{reverse:!0}):r.Transforms.collapse(t,{edge:"start"}));if(Me.isMoveForward(n))return e.preventDefault(),void(o&&r.Range.isCollapsed(o)?r.Transforms.move(t):r.Transforms.collapse(t,{edge:"end"}));if(Me.isMoveWordBackward(n))return e.preventDefault(),void r.Transforms.move(t,{unit:"word",reverse:!0});if(Me.isMoveWordForward(n))return e.preventDefault(),void r.Transforms.move(t,{unit:"word"});if(!je){if(Me.isBold(n)||Me.isItalic(n)||Me.isTransposeCharacter(n))return void e.preventDefault();if(Me.isSplitBlock(n))return e.preventDefault(),void r.Editor.insertBreak(t);if(Me.isDeleteBackward(n))return e.preventDefault(),void(o&&r.Range.isExpanded(o)?r.Editor.deleteFragment(t):r.Editor.deleteBackward(t));if(Me.isDeleteForward(n))return e.preventDefault(),void(o&&r.Range.isExpanded(o)?r.Editor.deleteFragment(t):r.Editor.deleteForward(t));if(Me.isDeleteLineBackward(n))return e.preventDefault(),void(o&&r.Range.isExpanded(o)?r.Editor.deleteFragment(t):r.Editor.deleteBackward(t,{unit:"line"}));if(Me.isDeleteLineForward(n))return e.preventDefault(),void(o&&r.Range.isExpanded(o)?r.Editor.deleteFragment(t):r.Editor.deleteForward(t,{unit:"line"}));if(Me.isDeleteWordBackward(n))return e.preventDefault(),void(o&&r.Range.isExpanded(o)?r.Editor.deleteFragment(t):r.Editor.deleteBackward(t,{unit:"word"}));if(Me.isDeleteWordForward(n))return e.preventDefault(),void(o&&r.Range.isExpanded(o)?r.Editor.deleteFragment(t):r.Editor.deleteForward(t,{unit:"word"}))}}},_onFocus:function(e){var t=this.$editor;if(!this.readOnly&&!this.isUpdatingSelection&&Ke(t,e.target)&&!Ie(e,this.onFocus)){var n=ne.toDOMNode(t,t);if(this.latestElement=window.document.activeElement,De&&e.target!==n)return void n.focus();p.set(t,!0)}},_onBlur:function(e){var t=this.$editor;if(!this.readOnly&&!this.isUpdatingSelection&&Ke(t,e.target)&&Ie(e,this.onBlur)&&this.latestElement!==window.document.activeElement){var n=e.relatedTarget;if(!(n===ne.toDOMNode(t,t)||W(n)&&n.hasAttribute("data-slate-spacer"))){if(null!=n&&I(n)&&ne.hasDOMNode(t,n)){var o=ne.toSlateNode(t,n);if(r.Element.isElement(o)&&!t.isVoid(o))return}p.delete(t)}}},_onCopy:function(e){var t=this.$editor;Ke(t,e.target)&&!Ie(e,this.onCopy)&&(e.preventDefault(),ne.setFragmentData(t,e.clipboardData))},_onPaste:function(e){var t=this.$editor,n=this.readOnly;je&&!function(e){return e.clipboardData&&""!==e.clipboardData.getData("text/plain")&&1===e.clipboardData.types.length}(e)||n||!Ke(t,e.target)||Ie(e,this.onPaste)||(e.preventDefault(),ne.insertData(t,e.clipboardData))},_onCut:function(e){var t=this.$editor;if(!this.readOnly&&Ke(t,e.target)&&!Ie(e,this.onCut)){e.preventDefault(),ne.setFragmentData(t,e.clipboardData);var n=t.selection;n&&r.Range.isExpanded(n)&&r.Editor.deleteFragment(t)}},_onDragOver:function(e){var t=this.$editor;if(qe(t,e.target)&&!Ie(e,this.onDragOver)){var n=ne.toSlateNode(t,e.target);r.Editor.isVoid(t,n)&&e.preventDefault()}},_onDragStart:function(e){var t=this.$editor;if(qe(t,e.target)&&!Ie(e,this.onDragStart)){var n=ne.toSlateNode(t,e.target),o=ne.findPath(t,n);if(r.Editor.void(t,{at:o})){var a=r.Editor.range(t,o);r.Transforms.select(t,a)}ne.setFragmentData(t,e.clipboardData)}},_onDrop:function(e){var t=this.$editor;if(qe(t,e.target)&&!this.readOnly&&!Ie(e,this.onDrop)&&(!je||!Ne&&e.dataTransfer.files.length>0)){e.preventDefault();var n=ne.findEventRange(t,e),o=e.dataTransfer;r.Transforms.select(t,n),ne.insertData(t,o)}}},hooks:function(){var e=this,t=this.ref=D(null),n=this.$editor;h.set(n,this.readOnly);C((function(){return document.addEventListener("selectionchange",e.onSelectionchange),function(){document.removeEventListener("selectionchange",e.onSelectionchange)}})),C((function(){t.current?(d.set(n,t.current),u.set(n,t.current),l.set(t.current,n)):u.delete(n)})),C((function(){var t=n.selection,o=window.getSelection();if(!e.isComposing&&o&&ne.isFocused(n)){var a="None"!==o.type;if(t||a){var i=d.get(n),s=!1;if(i.contains(o.anchorNode)&&i.contains(o.focusNode)&&(s=!0),!(a&&s&&t&&r.Range.equals(ne.toSlateRange(n,o),t))){var l=ne.toDOMNode(n,n);e.isUpdatingSelection=!0;var c=t&&ne.toDOMRange(n,t);c?(r.Range.isBackward(t)?o.setBaseAndExtent(c.endContainer,c.endOffset,c.startContainer,c.startOffset):o.setBaseAndExtent(c.startContainer,c.startOffset,c.endContainer,c.endOffset),c.startContainer.parentElement):o.removeAllRanges(),setTimeout((function(){c&&De&&l.focus(),e.isUpdatingSelection=!1}))}}}})),C((function(){t.current&&e.autoFocus&&setTimeout((function(){t.current.focus()}),0)}),[e.autoFocus]),De&&C((function(){var e,n;e=t.current,n=!0,["compositionend","textInput","keypress"].forEach((function(t){e.addEventListener(t,(function(e){Ae(t,e),"compositionend"===t&&(Re=!1),n&&e.preventDefault()}))})),e.addEventListener("compositionstart",(function(){return Re=!0}))}),[])},render:function(){var e=arguments[0],t=this.$editor,n=this.ref,r={click:this._onClick,keydown:this._onKeyDown,focus:this._onFocus,blur:this._onBlur,beforeinput:this._onBeforeInput,copy:this._onCopy,cut:this._onCut,compositionend:this._onCompositionEnd,compositionstart:this._onCompositionStart,dragover:this._onDragOver,dragstart:this._onDragStart,drop:this._onDrop,paste:this._onPaste},o={spellcheck:je?this.spellCheck:void 0,autocorrect:je?this.autoCorrect:void 0,autocapitalize:je?this.autoCapitalize:void 0};return e("div",{attrs:B({"data-gramm":!1,role:this.readOnly?void 0:"textbox",contenteditable:!this.readOnly,"data-slate-editor":!0,"data-slate-node":"value"},o),ref:n.id,style:{outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},on:B({},r)},[e(ke,{attrs:{node:t,selection:t.selection}})])}});exports.Editable=ze,exports.FocusedMixin=le,exports.ReadOnlyMixin=de,exports.SelectedMixin=se,exports.Slate=ve,exports.SlateMixin=ie,exports.SlatePlugin=ue,exports.Transforms=Q,exports.VueEditor=ne,exports.elementWatcherPlugin=ae,exports.fragment=pe,exports.getGvm=oe,exports.useEffect=C,exports.useRef=D,exports.vueRuntime=te,exports.vueRuntimeFunc=ee;
//# sourceMappingURL=index.cjs.js.map
